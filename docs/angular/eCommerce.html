<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Metronic - The Ultimate Bootstrap & Angular 6 Admin Theme</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<meta name="description" content="Metronic - #1 Selling Premium Bootstrap Admin Dashboard Theme of All Time. Build with Twitter Bootstrap 4, SASS, Angular 6. Trusted By Tens of Thousands Users."/>
	<link rel="canonical" href="https://keenthemes.com/"/>
	<meta property="og:locale" content="en_US"/>
	<meta property="og:type" content="website"/>
	<meta property="og:title" content="Premium Bootstrap Admin Themes"/>
	<meta property="og:description" content="Metronic - #1 Selling Premium Bootstrap Admin Theme of All Time. Build with Twitter Bootstrap 4, SASS, Angular 6. Trusted By Tens of Thousands Users."/>
	<meta property="og:url" content="https://keenthemes.com/"/>
	<meta property="og:site_name" content="Keenthemes"/>
	<meta property="article:publisher" content="https://www.facebook.com/keenthemes"/>
	<meta name="twitter:card" content="summary_large_image"/>
	<meta name="twitter:description" content="Metronic - #1 Selling Premium Bootstrap Admin Theme of All Time. Build with Twitter Bootstrap 4, SASS, Angular 6, Material Design. Trusted By Tens of Thousands Users."/>
	<meta name="twitter:title" content="Premium Bootstrap Admin Themes"/>
	<meta name="twitter:domain" content="Keenthemes"/>

	<link rel="shortcut icon" href="assets/favicon.ico"/>

	<link href="assets/plugins/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="assets/plugins/lity/dist/lity.min.css" rel="stylesheet" type="text/css"><link href="assets/style/flaticon.css" rel="stylesheet" type="text/css"><link href="assets/plugins/line-awesome/css/line-awesome.min.css" rel="stylesheet" type="text/css"><link href="assets/plugins/socicon/css/socicon.css" rel="stylesheet" type="text/css"><link href="assets/plugins/filament-sticky/fixedsticky.css" rel="stylesheet" type="text/css"><link href="assets/plugins/tether/dist/css/tether.min.css" rel="stylesheet" type="text/css"><link href="assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" type="text/css"><link href="assets/style/style.css" rel="stylesheet" type="text/css"><link href="assets/plugins/highlight.js/styles/railscasts.css" rel="stylesheet" type="text/css">	<script src="assets/plugins/jquery/dist/jquery.min.js" type="application/javascript"></script><script src="assets/plugins/tether/dist/js/tether.min.js" type="application/javascript"></script><script src="assets/plugins/popper.js/dist/umd/popper.min.js" type="application/javascript"></script><script src="assets/plugins/bootstrap/dist/js/bootstrap.min.js" type="application/javascript"></script><script src="assets/plugins/lity/dist/lity.min.js" type="application/javascript"></script><script src="assets/plugins/filament-fixed/fixedfixed.js" type="application/javascript"></script><script src="assets/plugins/filament-sticky/fixedsticky.js" type="application/javascript"></script><script src="assets/plugins/perfect-scrollbar/dist/perfect-scrollbar.js" type="application/javascript"></script><script src="assets/js/custom.js" type="application/javascript"></script><script src="assets/plugins/highlight.js/lib/highlight.js" type="application/javascript"></script><script src="assets/plugins/highlight.js/build/highlight.pack.js" type="application/javascript"></script><script src="assets/js/docs.js" type="application/javascript"></script>
</head>
<body>
<div class="wrapper"><!-- wrapper -->

	<section class="section section--header"><!-- section -->

	<header><!-- header -->
		<div class="content">
			<div class="header__handler">
				<div class="sidebar">
					<span class="hamburger">
						<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 129 129" enable-background="new 0 0 129 129" width="40px" height="40px">
							<g>
								<path d="m91.4,33.5h-53.8c-2.3,0-4.1,1.8-4.1,4.1 0,2.3 1.8,4.1 4.1,4.1h53.9c2.3,0 4.1-1.8 4.1-4.1-0.1-2.3-1.9-4.1-4.2-4.1z" fill="#FFFFFF"/>
								<path d="m91.4,87.4h-53.8c-2.3,0-4.1,1.8-4.1,4.1 0,2.3 1.8,4.1 4.1,4.1h53.9c2.3,0 4.1-1.8 4.1-4.1-0.1-2.3-1.9-4.1-4.2-4.1z" fill="#FFFFFF"/>
								<path d="m91.4,60.4h-53.8c-2.3,0-4.1,1.8-4.1,4.1 0,2.3 1.8,4.1 4.1,4.1h53.9c2.3,0 4.1-1.8 4.1-4.1-0.1-2.3-1.9-4.1-4.2-4.1z" fill="#FFFFFF"/>
							</g>
						</svg>
					</span>
                    <div class="sidebar__menu_wrap">
                        <span class="sidebar__menu_close">x</span>
                        <ul class="sidebar__menu"><li class="sidebar__menu__item"><a href="index.html" target="" title="Preview"><span>Preview</span></a></li><li class="sidebar__menu__item"><a href="faq.html" target="" title="Faq"><span>Faq</span></a></li><li class="sidebar__menu__item active"><a href="docs.html" target="" title="Docs"><span>Docs</span></a></li><li class="sidebar__menu__item"><a href="https://keenthemes.com/metronic/?page=github" target="_blank" title="GitHub Access"><span>GitHub Access</span></a></li><li class="sidebar__menu__item"><a href="reviews.html" target="" title="Reviews"><span>Reviews</span></a></li><li class="sidebar__menu__item"><a href="changelog.html" target="" title="Changelog"><span>Changelog</span></a></li><li class="sidebar__menu__item"><a href="https://keenthemes.com/metronic/?page=hireus" target="_blank" title="Hire Us"><span>Hire Us</span></a></li></ul>                    </div>
				</div>
				<a href="https://keenthemes.com" class="metronic__logo"><img src="assets/img/metronic_whitelogo.png" alt="Metronic"></a>
			</div>
			<div class="header__references">
				<a href="https://keenthemes.com/forums/forum/support/metronic5/" class="header__references_support" target="_blank">Support</a>
				<a href="http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes" class="header__references_purchase" target="_blank">Purchase</a>
			</div>
		</div>
	</header><!-- header END -->

	<div class="content"><!-- content -->

		<div class="intro"><!-- intro -->
			<img src="assets/img/logo_metronic_1.png" alt="Metronic">
			<h2 class="intro__title">The Ultimate Bootstrap & Angular 6 Admin Theme Framework For Next Generation Applications</h2>
			<div class="intro__buttons">
				<a href="www.youtube.com/watch?v=VIbMn0QHBlw" class="intro__video" data-lity>
					<span>Watch Video</span>
					<i class="glyph-icon flaticon-visible"></i>
				</a>
				<div class="twitter__button twitter__button">
					<a href="https://twitter.com/keenthemes?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-size="large" data-show-screen-name="false">
						Follow @keenthemes</a>
					<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
				</div>
			</div>
		</div><!-- intro END -->

		<div class="main__menu_wrap"><!-- main__menu_wrap -->
			<ul class="main__menu"><li class="main__menu__item"><a href="index.html" target="" title="Preview"><span>Preview</span></a></li><li class="main__menu__item"><a href="faq.html" target="" title="Faq"><span>Faq</span></a></li><li class="main__menu__item active"><a href="docs.html" target="" title="Docs"><span>Docs</span></a></li><li class="main__menu__item"><a href="https://keenthemes.com/metronic/?page=github" target="_blank" title="GitHub Access"><span>GitHub Access</span></a></li><li class="main__menu__item"><a href="reviews.html" target="" title="Reviews"><span>Reviews</span></a></li><li class="main__menu__item"><a href="changelog.html" target="" title="Changelog"><span>Changelog</span></a></li><li class="main__menu__item"><a href="https://keenthemes.com/metronic/?page=hireus" target="_blank" title="Hire Us"><span>Hire Us</span></a></li></ul>		</div><!-- main__menu_wrap END -->

	</div><!-- content END -->

</section><!-- section END -->

	<section class="section section--white section--padding"><!-- section -->
	<div id="docs" class="content">

		<div class="contents">
			<!-- contents -->

			<div class="doc-side-menu">
				<p>&nbsp;</p>
				<i class="la la-bars toggle-btn" data-toggle="collapse" data-target="#menu-content"></i>
				<div class="menu-list">
					<ul id="menu-content" class="menu-content collapse"><li class="" ><a href="overview.html#docs">Overview</a></li><li class="" ><a href="quick-start.html#docs">Quick Start</a></li><li class="" data-toggle="collapse" data-target="#a5b8d68455e346" ><a href="javascript:;#docs">Installation<div class="arrow"></div></a><ul class="sub-menu collapse " id="a5b8d68455e346"><li class=""><a href="installation.html#docs">Default</a></li><li class=""><a href="classic-version.html#docs">Classic</a></li></ul></li><li class="" ><a href="github-access.html#docs">GitHub Access</a></li><li class="" ><a href="files-structure.html#docs">Files Structure</a></li><li class="" ><a href="build-tools.html#docs">Build Tools</a></li><li class="" ><a href="rtl-version.html#docs">RTL Version</a></li><li class="" ><a href="stylesheets.html#docs">Stylesheets</a></li><li class="" data-toggle="collapse" data-target="#a5b8d68455e36c" ><a href="javascript:;#docs">Components<div class="arrow"></div></a><ul class="sub-menu collapse " id="a5b8d68455e36c"><li class=""><a href="datatable.html#docs">Datatable</a></li><li class=""><a href="menu.html#docs">Menu</a></li><li class=""><a href="dropdown.html#docs">Dropdown</a></li><li class=""><a href="header.html#docs">Header</a></li><li class=""><a href="offcanvas.html#docs">Offcanvas</a></li><li class=""><a href="portlet.html#docs">Portlet</a></li><li class=""><a href="quicksearch.html#docs">Quicksearch</a></li><li class=""><a href="scrolltop.html#docs">Scrolltop</a></li><li class=""><a href="toggle.html#docs">Toggle</a></li><li class=""><a href="wizard.html#docs">Wizard</a></li></ul></li><li class="" data-toggle="collapse" data-target="#a5b8d68455e382" ><a href="javascript:;#docs">Angular<div class="arrow"></div></a><ul class="sub-menu collapse " id="a5b8d68455e382"><li class=""><a href="angular/overview.html#docs">Overview</a></li><li class=""><a href="angular/installation.html#docs">Installation</a></li><li class=""><a href="angular/deployment.html#docs">Deployment</a></li><li class=""><a href="angular/eCommerce.html#docs">eCommerce</a></li><li class=""><a href="angular/i18n.html#docs">Internationalization</a></li><li class=""><a href="angular/mock-backend.html#docs">Mock Backend</a></li><li class=""><a href="angular/how-create-custom-page.html#docs">Create a Page</a></li></ul></li><li class="" ><a href="layout-builder.html#docs">Layout Builder</a></li><li class="" ><a href="api-reference.html#docs">API Reference</a></li><li class="" ><a href="net-integration.html#docs">.NET Integration</a></li><li class="" ><a href="more-resources.html#docs">More Resources</a></li><li class="" ><a href="references.html#docs">References</a></li></ul>				</div>
			</div>

			<div class="contents__box contents__box--right">
				<!-- contents__box -->
				<div class="section">
	<h2 class="section-head">eCommerce</h2>
	<h3 class="section-title">Angular Data Table: A complete example of Server Pagination, Filtering, Sorting, Grouping, Edit forms, Sub-items.</h3>

	<div class="section-content">
		<p>This documentation contains a complete practical example of how to use Metronic for any CRUD applications development.</p>
    <p class="alert alert-warning" style="margin: 25px 0 25px 0;">
      We use <code>angular-in-memory</code> library for <b>back-end</b> emulation (Mock Back-end). 
      This library emulates CRUD operations over a RESTy API. 
      When your Real backend is done, for switching to it is please read the document <a href="?page=docs&section=angular%2Fmock-backend#eCommerce">How switching to the <b>Real Back-end</b></a>.
    </p>
		<h5>The <b>end result</b> of this documentation will be:</h5>
		<p>
			<p>A complete example of how to implement (using <b>Metronic theme</b>) an Angular Material Data Table with server-side pagination, sorting and filtering using a custom CDK Data Source.</p>
			<h5>Scenario:</h5>
			<ul>
				<li>
					Standard Data table development. The Data table includes:
					<ul>
						<li><a href="#material-table">The Angular Material Data Table</a></li>
						<li><a href="#paginator">The Material Paginator and Server-side Pagination</a></li>
						<li><a href="#sorting">Sortable Headers and Server-side Sorting</a></li>
						<li><a href="#filtrations">Server-side Filtering</a></li>
						<li><a href="#grouping">Data grouping operations</a></li>
						<li><a href="#empty">Empty data Warning (in case of data absence)</a></li>
						<li><a href="#progress-spinner">A loading Indicator</a></li>
						<li><a href="#material-table">A Custom Angular Material CDK Data Source</a></li>
            <li><a href="#http-intecept">Interceptor for HTTP Requests & Responses</a></li>

						<!-- <li>'Snackbar' to confirm response from the server</li> -->
						<li><a href="#actions">Actions (See next paragraph)</a></li>
					</ul>
				</li>
				<li id="actions">
					Actions:
					<ul>
						<li><a href="#delete-item">'Delete item' action</a></li>
						<li><a href="#delete-items">'Delete selected items' action</a></li>
						<!-- <li><a href="#update-item">'Update one field' in modal</a></li> -->
						<li><a href="#edit-item">'Create&Edit item' in modal</a></li>
						<!-- <li>'Edit item' o	on separate page (with keeping filtration state  and automatic return to the list)</li> -->
						<!-- <li>'Sub items list' with actions</li> -->
						<!-- <li>'Create&Edit item' on separate page (with keeping filtration state and automatic return to the list)</li> -->
						<!-- <li>'Sub item edit' in modal</li> -->
						<!-- <li>'Sub item edit' inside the list</li> -->
					</ul>
				</li>
			</ul>
		</p>
	</div>
	<div class="space"></div>

	<div class="section-content">
		<h3 class="section-title">eCommerce application structure</h3>
		<p>The given scheme is an example of eCommerce application showing cars sale.  The following mockup represents entities to work with:
<!--			<img style="max-width: 100%" src='https://previews.dropbox.com/p/thumb/AALmXbXY6wte-xVKTECNedZAzo7cx_I_m9PKIjNgNr3Wj5WgrEDJ6qPssioOufwqqOqkWLDV9w5c9c0uBj5ixMvCazn3NBzMAMy12UXjBOZUmp7MdI6hj04FaRagdwIqWP0aZBnDospQnzl7d-8H9JNfcAKV72-d0A_QnUHWJsFTdK-gCA_md3buVuVqQhaiIzdeBpRmwQ239Do_RyY4chbBH-PMS_x_yTF53cMORsyxNA/p.png?preserve_transparency=1&size=2048x1536&size_mode=3' alt="eCommerce mockup" />-->
    <img style="max-width: 100%" src="assets/img/docs/eCommerce-mock2.png" alt="eCommerce models" />
		</p>
		<hr />
		<p>
			<h5>Folders and files</h5>
			<img style="max-width: 40%" src="assets/img/docs/eCommerce-structure.png" alt="eCommerce mockup" />
		</p>
		<table class="table-list">
			<thead><tr><th colspan="2"><code>_core</code> <b>folder</b> structure</th></tr></thead>
			<thead><tr><th class="force-border">Folder</th><th class="force-border">Description</th></tr></thead>
			<tbody>
				<tr>
						<td>
							<p><code>_server</code>:</p>
							<img style="max-width: 200px" src="assets/img/docs/eCommerce-server.png" alt="eCommerce server" />
						</td>
						<td>
							<p>Fake database (for real REST server simulation)</p>
							<p>Used library <a href="https://github.com/angular/in-memory-web-api">angular-in-memory</a>.</p>
							<p>
								The folder contains service  <code>fake-api.service</code> which is imported into <br /><code>e-commerce.module.ts</code>:
								<pre><code class="ts">HttpClientInMemoryWebApiModule.forFeature(FakeApiService)</code></pre>
							</p>
						</td>
				</tr>
				<tr>
						<td>
							<p><code>models</code>:</p>
							<img style="max-width: 200px" src="assets/img/docs/eCommerce-models.png" alt="eCommerce models" />
						</td>
						<td>
							<p>The folder contains description of entities listed in the application.</p>
							<ul>
								<li><code>CustomerModel</code></li>
								<li><code>ProductModel</code></li>
								<li><code>ProductSpecificationModel</code></li>
								<li><code>ProductRemarkModel</code></li>
							</ul>
							<p>Entities are inherited from <code>BaseModel</code> class which operates next entities:</p>
							<ul>
								<li><code>IEdit</code></li>
								<li><code>IFilter</code></li>
								<li><code>ILog</code></li>
							</ul>
							<p>There is also <code>data-sources</code> folder described below.</p>
						</td>
				</tr>
				<tr>
						<td>
							<p><code>services</code>:</p>
							<img style="max-width: 200px" src="assets/img/docs/eCommerce-services.png" alt="eCommerce services" />
						</td>
						<td>
							<p>Standard <a href="https://angular.io/tutorial/toh-pt4">angular services</a> with REST API calls.</p>
						</td>
				</tr>
				<tr>
						<td>
							<p><code>utils</code>:</p>
							<img style="max-width: 200px" src="assets/img/docs/eCommerce-utils.png" alt="eCommerce utils" />
						</td>
						<td>Auxiliary services</td>
				</tr>
			</tbody>
		</table>
	</div>

	<div class="section-content">
		<h3 class="section-title">Importing our services and Angular Material modules</h3>
		<p>Import all the Angular Material modules as described below. See <code>e-commerce.module.ts</code> code:</p>
		<pre><code>import { NgModule } from '@angular/core';
import { CommonModule,  } from '@angular/common';
import { RouterModule, Routes } from '@angular/router';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';
import { HttpClientModule } from '@angular/common/http';
import { TranslateModule } from '@ngx-translate/core';
import { PartialsModule } from '../../../../partials/partials.module';
import { ECommerceComponent } from './e-commerce.component';
import { HttpClientInMemoryWebApiModule } from 'angular-in-memory-web-api';
// Core
import { FakeApiService } from './_core/_server/fake-api.service';
// Core => Services
import { CustomersService } from './_core/services/customers.service';
import { OrdersService } from './_core/services/orders.service';
import { ProductRemarksService } from './_core/services/product-remarks.service';
import { ProductSpecificationsService } from './_core/services/product-specifications.service';
import { ProductsService } from './_core/services/products.service';
import { SpecificationsService } from './_core/services/specification.service';
// Core => Utils
import { HttpUtilsService } from './_core/utils/http-utils.service';
import { TypesUtilsService } from './_core/utils/types-utils.service';
import { LayoutUtilsService } from './_core/utils/layout-utils.service';
// Shared
import { ActionNotificationComponent } from './_shared/action-natification/action-notification.component';
import { DeleteEntityDialogComponent } from './_shared/delete-entity-dialog/delete-entity-dialog.component';
import { FetchEntityDialogComponent } from './_shared/fetch-entity-dialog/fetch-entity-dialog.component';
import { UpdateStatusDialogComponent } from './_shared/update-status-dialog/update-status-dialog.component';
import { AlertComponent } from './_shared/alert/alert.component';
// Customers
import { CustomersListComponent } from './customers/customers-list/customers-list.component';
import { CustomerEditDialogComponent } from './customers/customer-edit/customer-edit.dialog.component';
// Products
import { ProductsListComponent } from './products/products-list/products-list.component';
import { ProductEditComponent } from './products/product-edit/product-edit.component';
import { RemarksListComponent } from './products/_subs/remarks/remarks-list/remarks-list.component';
import { SpecificationsListComponent } from './products/_subs/specifications/specifications-list/specifications-list.component';
import { SpecificationEditDialogComponent } from './products/_subs/specifications/specification-edit/specification-edit-dialog.component';
// Orders
import { OrdersListComponent } from './orders/orders-list/orders-list.component';
import { OrderEditComponent } from './orders/order-edit/order-edit.component';
// Material
import {
  MatInputModule,
  MatPaginatorModule,
  MatProgressSpinnerModule,
  MatSortModule,
  MatTableModule,
  MatSelectModule,
  MatMenuModule,
  MatProgressBarModule,
  MatButtonModule,
  MatCheckboxModule,
  MatDialogModule,
  MatTabsModule,
  MatNativeDateModule,
  MatCardModule,
  MatRadioModule,
  MatIconModule,
  MatDatepickerModule,
  MatAutocompleteModule,
  MAT_DIALOG_DEFAULT_OPTIONS,
  MatSnackBarModule,
  MatTooltipModule
} from '@angular/material';

const routes: Routes = [
  {
    path: '',
    component: ECommerceComponent,
    children: [
      {
        path: '',
        redirectTo: 'customers',
        pathMatch: 'full'
      },
      {
        path: 'customers',
        component: CustomersListComponent
      },
      {
        path: 'orders',
        component: OrdersListComponent
      },
      {
        path: 'products',
        component: ProductsListComponent,
      },
      {
        path: 'products/add',
        component: ProductEditComponent
      },
      {
        path: 'products/edit',
        component: ProductEditComponent
      },
      {
        path: 'products/edit/:id',
        component: ProductEditComponent
      },
    ]
  }
];

@NgModule({
  imports: [
    MatDialogModule,
    CommonModule,
    HttpClientModule,
    PartialsModule,
    RouterModule.forChild(routes),
    FormsModule,
    ReactiveFormsModule,
    TranslateModule.forChild(),
    MatButtonModule,
    MatMenuModule,
    MatSelectModule,
    MatInputModule,
    MatTableModule,
    MatAutocompleteModule,
    MatRadioModule,
    MatIconModule,
    MatNativeDateModule,
    MatProgressBarModule,
    MatDatepickerModule,
    MatCardModule,
    MatPaginatorModule,
    MatSortModule,
    MatCheckboxModule,
    MatProgressSpinnerModule,
    MatSnackBarModule,
    MatTabsModule,
    MatTooltipModule,
    HttpClientInMemoryWebApiModule.forFeature(FakeApiService)
 ],
  providers: [
    {
      provide: MAT_DIALOG_DEFAULT_OPTIONS,
      useValue: {
        hasBackdrop: true,
        panelClass: 'm-mat-dialog-container__wrapper', // CSS wrapper for Material dialog
        height: 'auto',
        width: '900px'
      }
    },
      HttpUtilsService,
      CustomersService,
      OrdersService,
      ProductRemarksService,
      ProductSpecificationsService,
      ProductsService,
      SpecificationsService,
      TypesUtilsService,
      LayoutUtilsService
  ],
  entryComponents: [
    ActionNotificationComponent,
    CustomerEditDialogComponent,
    DeleteEntityDialogComponent,
    FetchEntityDialogComponent,
    UpdateStatusDialogComponent,
    SpecificationEditDialogComponent
  ],
  declarations: [
    ECommerceComponent,
    // Shared
    ActionNotificationComponent,
    DeleteEntityDialogComponent,
    FetchEntityDialogComponent,
    UpdateStatusDialogComponent,
    AlertComponent,
    // Customers
    CustomersListComponent,
    CustomerEditDialogComponent,
    // Orders
    OrdersListComponent,
    OrderEditComponent,
    // Products
    ProductsListComponent,
    ProductEditComponent,
    RemarksListComponent,
    SpecificationsListComponent,
    SpecificationEditDialogComponent
  ]
})
export class ECommerceModule { }</code></pre>
		<p>Here is a breakdown of the contents of common Material module:</p>
		<p>
			<ul>
				<li><b>MatInputModule</b>: this contains the components and directives for adding Material design Input Boxes to our application (needed for the search input box)</li>
				<li><b>MatTableModule</b>: this is the core data table module, which includes the mat-table component and many related components and directives</li>
				<li><b>MatPaginatorModule</b>: this is a generic pagination module, that can be used to paginate data in general. This module can also be used separately from the Data table, for example for implementing Detail pagination logic in a Master-Detail setup</li>
				<li><b>MatSortModule</b>: this is an optional module that allows adding sortable headers to a data table</li>
				<li><b>MatProgressSpinnerModule</b>: this module includes the progress indicator component that we will be using to indicate that data is being loaded from the backend</li>
			</ul>
		</p>
	</div>
	<div class="space"></div>

	<div class="section-content">
		<h3 class="section-title">Сustomer list component</h3>
		<p>
			In order to have full understanding of what is going on we strongly recommend that you read the article <a href="https://blog.angular-university.io/angular-material-data-table/">https://blog.angular-university.io/angular-material-data-table</a>.
			The article describes the bases of angular Material Data Table formation and solutions for specific tasks (Data binding and Material Table, Sorting, Paginator and Filtration).
		</p>
		<p>
			Also, to understand how Grouping works we strongly recommend that you read official documentation of <a href="https://material.angular.io/components/table/overview#selection">Material Angular Table (Selection feature)</a>
		</p>
		<p>
			The ‘Customers list’ component view:
		</p>
		<p>
			<img style="max-width: 100%" src="assets/img/docs/eCommerce-customers-view.png" alt="eCommerce customers table view" />
		</p>
	</div>
	<div class="space"></div>

	<div class="section-content" id="material-table">
		<h4 class="section-title">Material Table with custom <code>DataSource</code>:</h4>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
			<pre><code class="html">&#60;mat-table class="lmat-elevation-z8" [dataSource]="dataSource" matSort matSortActive="id" matSortDirection="asc" matSortDisableClear&#62;
  &#60;!-- Material table HTML --&#62;
  &#60;mat-header-row *matHeaderRowDef="displayedColumns"&#62;&#60;/mat-header-row&#62;
  &#60;mat-row *matRowDef="let row; columns: displayedColumns"&#62;&#60;/mat-row&#62;
&#60;/mat-table&#62;
&#60;div class="mat-table__message" *ngIf="!dataSource.hasItems"&#62;No records found&#60;/div&#62;&#60;!-- Message for empty data  --&#62;</code></pre>
		</p>
		<p><code>customers/customer-list/customer-list.component.ts</code>:</p>
		<p><pre><code>// Importing Material
import { SelectionModel } from '@angular/cdk/collections';
import { MatPaginator, MatSort, MatSnackBar, MatDialog } from '@angular/material';
// Importing CustomerDataSource - extends BaseDataSource 
import { CustomersDataSource } from '../../_core/models/data-sources/customers.datasource';
// ...
// ...
export class CustomersListComponent implements OnInit {
// Variables declaration
// ...
  // Columns which should view in table
  displayedColumns = ['select', 'id', 'lastName', 'firstName', 'email', 'gender', 'status', 'type', 'actions'];
// ...
// ...
  constructor(private customersService: CustomersService, ***other services) {}
// ...
  /** LOAD DATA */
  ngOnInit() {
    // ...
    this.dataSource = new CustomersDataSource(this.customersService); //Init DataSource
    // First load
    this.dataSource.loadCustomers(queryParams); // Loading data
    // ...
  }
}</code></pre>
		</p>
		<p><h5>Our <code>CustomerDataSource</code> extends <code>BaseDataSource.</code></h5></p>
		<p><code>_core/models/data-sources/_base.datasource.ts</code>:</p>
		<p><pre><code>import { CollectionViewer, DataSource } from '@angular/cdk/collections';
import { Observable, BehaviorSubject, from } from 'rxjs';
import { QueryParamsModel } from '../query-models/query-params.model';
import { QueryResultsModel } from '../query-models/query-results.model';
import { BaseModel } from '../_base.model';
import * as _ from 'lodash';

// Why not use MatTableDataSource?
/* In this example, we will not be using the built-in MatTableDataSource because its designed for filtering,
  sorting and pagination of a client - side data array.
  Read the article: 'https://blog.angular-university.io/angular-material-data-table/'
**/
export class BaseDataSource implements DataSource<BaseModel> {
  entitySubject = new BehaviorSubject<any[]>([]);
  hasItems: boolean = false; // Need to show message: 'No records found'

  // Loading | Progress bar
  loadingSubject = new BehaviorSubject<boolean>(false);
  loading$: Observable<boolean>;

  // Paginator | Paginators count
  paginatorTotalSubject = new BehaviorSubject<number>(0);
  paginatorTotal$: Observable<number>;

  constructor() {
    this.loading$ = this.loadingSubject.asObservable();
    this.paginatorTotal$ = this.paginatorTotalSubject.asObservable();
    this.paginatorTotal$.subscribe(res => this.hasItems = res > 0);
  }

  connect(collectionViewer: CollectionViewer): Observable<any[]> {
    // Connecting data source
    return this.entitySubject.asObservable();
  }

  disconnect(collectionViewer: CollectionViewer): void {
    // Disonnecting data source
    this.entitySubject.complete();
    this.loadingSubject.complete();
    this.paginatorTotalSubject.complete();
  }
}</code></pre>
		</p>
		<p>The next table contains fields added by Metronic into standard <code>DataSource</code>:</p>
		<p>
		<table class="table-list">
				<thead>
					<tr colspan="2"><th class="force-border">Field</th><th class="force-border">Description</th></tr>
				</thead>
				<tbody>
					<tr>
						<td nowrap><code>loadingSubject</code>: &nbsp;BehaviorSubject <br /><code>loading$</code>: &nbsp;Observable&#60;boolean&#62;</td>
						<td>
							<p>Used to display the load item. Example of use in <code>customers/customer-list/customer-list.component.html</code>:</p>
							<p><pre><code>&#60;m-portlet [options]="{headLarge: true}" [loading$]="dataSource.loading$"&#62;</code></pre></p>
						</td>
					</tr>
					<tr>
						<td nowrap><code>hasItems</code>: boolean</code></td>
						<td>
							<p>Used to display text <b>No records found</b> if the result of the query returns an empty data array</p>
							<p><pre><code>&#60;div class="mat-table__message" *ngIf="!dataSource.hasItems"&#62;No records found&#60;/div&#62;</code></pre></p>
						</td>
					</tr>
				</tbody>
			</table>
		</p>
		<p><code>CustomersDataSource</code> is inherited from <code>BaseDataSource</code> and has the only method <code>loadCustomers</code>:</p>
		<p>
			<pre><code>import { Observable, of } from 'rxjs';
import { catchError, finalize, tap } from 'rxjs/operators';
import { CustomersService } from '../../services/customers.service';
import { QueryParamsModel } from '../query-models/query-params.model';
import { BaseDataSource } from './_base.datasource';
import { QueryResultsModel } from '../query-models/query-results.model';

export class CustomersDataSource extends BaseDataSource {
  constructor(private customersService: CustomersService) {
    super(); // Call BaseDataSource constructor
  }

  loadCustomers(queryParams: QueryParamsModel) {
    this.loadingSubject.next(true);
    this.customersService.findCustomers(queryParams).pipe(
      tap(res => {
        this.entitySubject.next(res.items); // Updating data
        this.paginatorTotalSubject.next(res.totalCount); // Refreshing paginator
      }),
       catchError(err => of(new QueryResultsModel([], err))),
       finalize(() => this.loadingSubject.next(false)) // Hiding loading
    ).subscribe();
  }
}</code></pre>
		</p>
		<code>loadCustomers</code> method is used to populate the table by using <code>customers/customer-list/customer-list.component.ts</code> component and has one <code>queryParams</code> input parameter with <code>QueryParamsModel</code> type:

		<table class="table-list">
	      <thead>
					<tr><th colspan="3"><code>QueryParamsModel</code> class intended for the wrapping of request object and sending to the server</th></tr>
				</thead>
	      <thead>
					<tr>
						<th class="force-border">Field</th>
						<th>Type</th>
						<th class="force-border">Description</th>
					</tr>
				</thead>
	      <tbody>
		      <tr>
		        <td><code>filter</code></td>
		        <td>any</td>
		        <td>Filtration object. <br />For example, filtration object for customers is <code>CustomerModel</code></td>
		      </tr>
		      <tr>
		        <td><code>sortOrder</code></td>
		        <td>string</td>
		        <td>string; // asc || desc <br /><code>asc</code> - is default value</td>
		      </tr>
		      <tr>
		        <td><code>sortField</code></td>
		        <td>string</td>
		        <td>The filed intended for sorting. <code>id</code> is the default sorting value for <b>Customers</b>.</td>
		      </tr>
		      <tr>
		        <td nowrap><code>pageNumber</code></td>
		        <td>number</td>
		        <td>Paginator number. <br /><b>1</b> is default value</td>
		      </tr>
		      <tr>
		        <td><code>pageSize</code></td>
		        <td>number</td>
		        <td>The field determines the number of rows displayed in the table.  <br />By default <code>pageSize</code> equals <b>10</b>.</td>
		      </tr>
	      </tbody>
	  </table>
	<br /><br />
	<p><code>loadCustomers</code> method calls <code>findCustomers(queryParams)</code> from  <code>_core/services/customers.service.ts</code>:</p>
	<pre><code>import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable, forkJoin, of } from 'rxjs';
import { mergeMap } from 'rxjs/operators';
import { HttpUtilsService } from '../utils/http-utils.service';
import { CustomerModel } from '../models/customer.model';
import { QueryParamsModel } from '../models/query-models/query-params.model';
import { QueryResultsModel } from '../models/query-models/query-results.model';

const API_CUSTOMERS_URL = 'api/customers';

@Injectable()
export class CustomersService {
  constructor(private http: HttpClient, private httpUtils: HttpUtilsService) { }

  // Method from server should return instance of QueryResultsModel type 
  // QueryResultsModel type  has two fields =>
  // 1. items:CustomerModel[]
  // 2. totalsCount: number
  findCustomers(queryParams: QueryParamsModel): Observable<QueryResultsModel> {
    const params = this.httpUtils.getFindHTTPParams(queryParams);
    const url = this.API_CUSTOMERS_URL + '/find';
    return this.http.get<QueryResultsModel>(url, params); // Server call which return filter&sorting result
  }
}</code></pre>
	</div>
	<div class="space"></div>

	<div class="section-content" id="sorting">
		<h4 class="section-title">Data table <b>Sorting</b>:</h4>
		<p>Sorting view in the ‘Customers list’ component:</p>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-sorting.png" alt="eCommerce sorting" /></p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
			<pre><code>
&#60;mat-table class="lmat-elevation-z8" 
	[dataSource]="dataSource" 
	matSort 
	matSortActive="id" 
	matSortDirection="asc" 
	matSortDisableClear&#62;
  &#60;ng-container matColumnDef="id"&#62;
    &#60;!-- ATTRIBUTE mat-sort-header  for sorting | https://material.angular.io/components/sort/overview --&#62;
    &#60;mat-header-cell *matHeaderCellDef mat-sort-header>ID&#60;/mat-header-cell&#62;
    &#60;mat-cell *matCellDef="let customer">{{customer.id}}&#60;/mat-cell&#62;
  &#60;/ng-container&#62;
&#60;/mat-table&#62;</code></pre>
		</p>
		<p><code>customers/customer-list/customer-list.component.ts</code>:</p>
		<p>
			<pre><code>
// Importing Material MatSort
import { MatSort } from '@angular/material';
// ...
export class CustomersListComponent implements OnInit {
  // ...
  // Variables declaration
  @ViewChild(MatSort) sort: MatSort;
  // ...
  ngOnInit() {
    // If the user changes the sort order, reset back to the first page.
    this.sort.sortChange.subscribe(() => (this.paginator.pageIndex = 0));

    /* Data load will be triggered in two cases:
    - when a pagination event occurs => this.paginator.page
    - when a sort event occurs => this.sort.sortChange
    **/
    merge(this.sort.sortChange, this.paginator.page)
      .pipe(
        tap(() => { this.loadCustomersList(); })
      )
      .subscribe();
  }
  // ...
}
			</code></pre>
		</p>
	</div>
	<div class="space"></div>

	<div class="section-content" id="paginator">
		<h4 class="section-title">Data table <b>Paginator</b>:</h4>
		<p>Paginator view in 'Customers list' component:</p>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-paginator.png" alt="eCommerce paginator" /></p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
			<pre><code>
&#60;!-- MATERIAL PAGINATOR | Binded to dasources --&#62;
&#60;!-- See off.documentations 'https://material.angular.io/components/paginator/overview' --&#62;
&#60;mat-paginator [pageSize]="10" [pageSizeOptions]="[3, 5, 10]" [length]="dataSource.paginatorTotal$ | async" [showFirstLastButtons]="true"&#62;&#60;/mat-paginator&#62;
			</code></pre>
		</p>
		<p><code>customers/customer-list/customer-list.component.ts</code>:</p>
		<p>
		<pre><code>
// Importing Material MatPaginator
import { MatPaginator } from '@angular/material';
// ...
export class CustomersListComponent implements OnInit {
  // ...
  // Variables declaration
  @ViewChild(MatPaginator) paginator: MatPaginator;
  // ...
  ngOnInit() {
    /* Data load will be triggered in two cases:
    - when a pagination event occurs => this.paginator.page
    - when a sort event occurs => this.sort.sortChange
    **/
    merge(this.sort.sortChange, this.paginator.page)
      .pipe(
        tap(() => { this.loadCustomersList(); })
      )
      .subscribe();
  }
  // ...
}
			</code></pre>
		</p>
	</div>
	<div class="space"></div>

	<div class="section-content" id="progress-spinner">
		<h4 class="section-title">Data table <b>Progress spinner</b> (Loading element):</h4>
		<p>Progress spinner (loading element) view in the ‘Customers list’ component:</p>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-spinner.png" alt="eCommerce spinner" /></p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
			<pre><code>
&#60;!-- MATERIAL SPINNER | Url: 'https://material.angular.io/components/progress-spinner/overview' --&#62;
&#60;mat-spinner [diameter]="20" *ngIf="dataSource.loading$ | async"&#62;&#60;/mat-spinner&#62;</code></pre>
		</p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
		<pre><code>//nothing is needed, loading is binded in BaseDataSource</code></pre>
		</p>
	</div>
	<div class="space"></div>

	<div class="section-content" id="grouping">
		<h4 class="section-title">Data table <b>Grouping</b>:</h4>
		<p>Grouping view in the ‘Customers list’ component:</p>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-grouping.png" alt="eCommerce grouping" /></p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
			<pre><code>
&#60;!-- STYCKY PORTLET CONTROL | See structure => /metronic/sticky-form-actions --&#62;
&#60;m-portlet [options]="{headLarge: true}" [loading$]="dataSource.loading$"&#62;
  &#60;!-- start::Body (attribute: mPortletBody) --&#62;
  &#60;ng-container mPortletBody&#62;
    &#60;div class="m-form"&#62;
      &#60;!-- start::GROUP ACTIONS --&#62;
      &#60;!-- Group actions list: 'Delete selected' | 'Fetch selected' | 'Update status for selected' --&#62;
      &#60;!-- Group actions are shared for all LISTS | See '../../_shared' folder --&#62;
      &#60;div class="row align-items-center collapse m-form__group-actions m--margin-top-20 m--margin-bottom-20"
        [ngClass]="{'show' : selection.selected.length > 0}"&#62;
        &#60;!-- We show 'Group Actions' div if smth are selected --&#62;
        &#60;div class="col-xl-12"&#62;
          &#60;div class="m-form__group m-form__group--inline"&#62;
            &#60;div class="m-form__label m-form__label-no-wrap"&#62;
              &#60;label class="m--font-bold m--font-danger-"&#62;
                &#60;span translate="ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT">&#60;/span&#62; {{ selection.selected.length }}
              &#60;/label&#62;
              &#60;!-- selectedCountsTitle => function from codeBehind (customer-list.component.ts file) --&#62;
              &#60;!-- selectedCountsTitle => just returns title of selected items count --&#62;
              &#60;!-- for example: Selected records count: 9 --&#62;
            &#60;/div&#62;
            &#60;div class="m-form__control m-form__group--inline"&#62;
              &#60;button (click)="deleteCustomers()" mat-raised-button color="accent" matTooltip="Delete selected customers"&#62;
                &#60;mat-icon&#62;delete&#60;/mat-icon&#62; Delete All
              &#60;/button&#62;&nbsp;&#60;!-- Call 'delete-entity-dialog' from _shared folder --&#62;
              &#60;button  (click)="fetchCustomers()" mat-raised-button matTooltip="Fetch selected customers"&#62;
                &#60;mat-icon>clear_all&#60;/mat-icon&#62; Fetch Selected
              &#60;/button&#62;&nbsp;&#60;!-- Call 'fetch-entity-dialog' from _shared folder --&#62;
              &#60;button (click)="updateStatusForCustomers()" mat-raised-button matTooltip="Update status for selected customers"&#62;
                &#60;mat-icon&#62;update&#60;/mat-icon&#62; Update status
              &#60;/button&#62;&#60;!-- Call 'update-stated-dialog' from _shared folder --&#62;
             &#60;/div&#62;
          &#60;/div&#62;
        &#60;/div&#62;
      &#60;/div&#62;
      &#60;!-- end::GROUP ACTIONS --&#62;
    &#60;/div&#62;
  &#60;/ng-container&#62;
  &#60;!-- end::Body --&#62;
  &#60;!-- other code --&#62;
  &#60;div class="mat-table__wrapper"&#62;
    &#60;mat-table class="lmat-elevation-z8" [dataSource]="dataSource" matSort matSortActive="id" matSortDirection="asc" matSortDisableClear&#62;
      &#60;!-- Checkbox Column --&#62;

      &#60;!-- Table with selection --&#62;
      &#60;!-- https://run.stackblitz.com/api/angular/v1?file=app%2Ftable-selection-example.ts --&#62;
      &#60;ng-container matColumnDef="select"&#62;
        &#60;mat-header-cell *matHeaderCellDef class="mat-column-checkbox"&#62;
          &#60;mat-checkbox (change)="$event ? masterToggle() : null"
            [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()"&#62;
          &#60;/mat-checkbox&#62;
        &#60;/mat-header-cell&#62;
        &#60;mat-cell *matCellDef="let row" class="mat-column-checkbox"&#62;
          &#60;mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)"&#62;
          &#60;/mat-checkbox&#62;
        &#60;/mat-cell&#62;
      &#60;/ng-container&#62;
      &#60;!-- Other columns --&#62;
    &#60;/mat-table&#62;
  &#60;/div&#62;
&#60;/m-portlet&#62;
</code></pre>
		</p>
		<p><code>customers/customer-list/customer-list.component.ts</code>:</p>
		<p>
		<pre><code>
// Importing Material SelectionModel
import { SelectionModel } from '@angular/cdk/collections';
// ...
export class CustomersListComponent implements OnInit {
  // ...
  // Variables declaration
	// Selection
  selection = new SelectionModel<CustomerModel>(true, []);
	customersResult: CustomerModel[] = [];  
  // ...
  ngOnInit() {
    // ...
    this.dataSource.entitySubject.subscribe(res => (this.customersResult = res));
    // ...
  }
  // ...
  // ...
  /** SELECTION */
  isAllSelected(): boolean {
    const numSelected = this.selection.selected.length;
    const numRows = this.customersResult.length;
    return numSelected === numRows;
  }

  masterToggle() {
    if (this.selection.selected.length === this.customersResult.length) {
      this.selection.clear();
    } else {
      this.customersResult.forEach(row => this.selection.select(row));
    }
  }
  // ...
}</code></pre>
		</p>
	</div>
	<div class="space"></div>

	<div class="section-content" id="filtration">
		<h4 class="section-title">Data table <b>Filtration</b>:</h4>
		<p>Filtration view in the ‘Customers list’ component:</p>
		<p><img style="max-width: 100%" src="assets/img/docs/eCommerce-filtration.png" alt="eCommerce filtration" /></p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
			<pre><code>
&#60;!-- STYCKY PORTLET CONTROL | See structure => /metronic/sticky-form-actions --&#62;
&#60;m-portlet [options]="{headLarge: true}" [loading$]="dataSource.loading$"&#62;
  &#60;!-- start::Body (attribute: mPortletBody) --&#62;
  &#60;ng-container mPortletBody&#62;
    &#60;div class="m-form"&#62;
      &#60;!-- start::FILTERS --&#62;
      &#60;div class="m-form__filtration"&#62;
        &#60;div class="row align-items-center"&#62;

          &#60;div class="col-md-2 m--margin-bottom-10-mobile"&#62;
            &#60;!-- 'm  margin-bottom-10-mobile' for adaptive make-up  --&#62;
            &#60;div class="m-form__control"&#62;
              &#60;mat-form-field class="mat-form-field-fluid"&#62;
                &#60;mat-select [(value)]="filterStatus" (selectionChange)="loadCustomersList()"&#62;
                  &#60;mat-option value=""&#62;All&#60;/mat-option&#62;
                  &#60;mat-option value="0"&#62;Suspended&#60;/mat-option&#62;
                  &#60;mat-option value="1"&#62;Active&#60;/mat-option&#62;
                  &#60;mat-option value="Pending"&#62;Pending&#60;/mat-option&#62;
               &#60;/mat-select&#62;
               &#60;mat-hint align="start"&#62;
                 &#60;strong>Filter&#60;/strong&#62; by Status&#60;/mat-hint&#62;
              &#60;/mat-form-field&#62;
            &#60;/div&#62;
          &#60;/div&#62;

          &#60;div class="col-md-2 m--margin-bottom-10-mobile"&#62;
            &#60;div class="m-form__control"&#62;
              &#60;mat-form-field class="mat-form-field-fluid"&#62;
                &#60;mat-select [(value)]="filterType" (selectionChange)="loadCustomersList()"&#62;
                  &#60;mat-option value=""&#62;All&#60;/mat-option&#62;
                  &#60;mat-option value="0">Business&#60;/mat-option&#62;
                  &#60;mat-option value="1">Individual&#60;/mat-option&#62;
                &#60;/mat-select&#62;
                &#60;mat-hint align="start"&#62;
                  &#60;strong>Filter&#60;/strong&#62; by Type&#60;/mat-hint&#62;
              &#60;/mat-form-field&#62;
            &#60;/div&#62;
          &#60;/div&#62;

          &#60;div class="col-md-2 m--margin-bottom-10-mobile"&#62;
            &#60;mat-form-field class="mat-form-field-fluid"&#62;
              &#60;input matInput placeholder="Search customer" #searchInput placeholder="Search"&#62;
              &#60;mat-hint align="start"&#62;
                &#60;strong>Search&#60;/strong> in all fields&#60;/mat-hint&#62;
            &#60;/mat-form-field&#62;
          &#60;/div&#62;

        &#60;/div>
      &#60;/div>
      &#60;!-- end::FILTERS --> 
		
    &#60;/div&#62;
  &#60;/ng-container&#62;
  &#60;!-- other code --&#62;
&#60;/m-portlet&#62;
</code></pre>
		</p>
		<p><code>customers/customer-list/customer-list.component.ts</code>:</p>
		<p>
		<pre><code>
// Importing RXJS functions
// RXJS
import { debounceTime, distinctUntilChanged, tap } from 'rxjs/operators';
import { fromEvent, merge, forkJoin } from 'rxjs';
// ...
export class CustomersListComponent implements OnInit {
  // ...
  // Variables declaration
  // Filter fields
  @ViewChild('searchInput') searchInput: ElementRef;
  filterStatus: string = '';
  filterType: string = '';
  // ...
  ngOnInit() {
    // ...
    // Filtration, bind to searchInput
    fromEvent(this.searchInput.nativeElement, 'keyup')
      .pipe(
        debounceTime(150), // The user can type quite quickly in the input box, and that could trigger a lot of server requests. With this operator, we are limiting the amount of server requests emitted to a maximum of one every 150ms
        distinctUntilChanged(), // This operator will eliminate duplicate values
        tap(() => {
          this.paginator.pageIndex = 0;
          this.loadCustomersList();
        })
      )
      .subscribe();
    // ...
  }
  // ...
  // ...
  /** FILTRATION */
  filterConfiguration(isGeneralSearch: boolean = true): any {
    const filter: any = {};
    const searchText: string = this.searchInput.nativeElement.value; // Read from input

    if (this.filterStatus && this.filterStatus.length > 0) {
      filter.status = +this.filterStatus; // Read from select
    }

    if (this.filterType && this.filterType.length > 0) {
      filter.type = +this.filterType; // Read from select
    }

    filter.lastName = searchText;
    if (!isGeneralSearch) { // Check for first loading
      return filter;
    }

    filter.firstName = searchText;
    filter.email = searchText;
    filter.ipAddress = searchText;
    return filter;
  }
  // ...
}</code></pre>
		</p>
	</div>
	<div class="space"></div>

		<div class="section-content" id="empty">
		<h4 class="section-title">Data table <b>Empty data Warning</b> (in case of data absence):</h4>
		<p>Empty data Warning (in case of data absence) view in the ‘Customers list’ component:</p>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-empty.png" alt="eCommerce empty" /></p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
			<pre><code>&#60;!-- Message for empty data  --&#62;
&#60;div class="mat-table__message" *ngIf="!dataSource.hasItems"&#62;No records found&#60;/div&#62;</code></pre>
		</p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
		<pre><code>//nothing is needed, hasItems is binded in BaseDataSource</code></pre>
		</p>
	</div>
	<div class="space"></div>


  <div class="section-content" id="http-intecept">
    <h4 class="section-title">Interceptor for HTTP Requests & Responses</h4>
    <p>
      By using HttpInteceptors we can cache, log, debug and catch errors during work with REST Api.
      More information about HTTP Interceptors you can get from following article <a href="https://medium.com/@MetonymyQT/angular-http-interceptors-what-are-they-and-how-to-use-them-52e060321088">https://medium.com/@MetonymyQT/angular-http-interceptors-what-are-they-and-how-to-use-them-52e060321088</a>
    </p>
    <p><code>_core/utils/intercept.service.ts</code>:</p>
    <p>
			<pre><code>
import { Injectable } from '@angular/core';
import {
  HttpEvent,
  HttpInterceptor,
  HttpHandler,
  HttpRequest,
  HttpResponse
} from '@angular/common/http';
import { Observable } from 'rxjs';
import { catchError, tap } from 'rxjs/operators';

@Injectable()
export class InterceptService implements HttpInterceptor {
  // intercept request and add token
  intercept(
    request: HttpRequest<any>,
    next: HttpHandler
  ): Observable<HttpEvent<any>> {
    // modify request
    request = request.clone({
      setHeaders: {
        Authorization: `Bearer ${localStorage.getItem('accessToken')}`
      }
    });
    // console.log('----request----');
    console.log(request);
    // console.log('--- end of request---');

    return next.handle(request).pipe(
      tap(
        event => {
          if (event instanceof HttpResponse) {
            // console.log('all looks good');
            // http response status code
            console.log(event.status);
          }
        },
        error => {
          // http response status code
          // console.log('----response----');
          // console.error('status code:');
          console.error(error.status);
          console.error(error.message);
          // console.log('--- end of response---');
        }
      )
    );
  }
}</code></pre>
    </p>
    <p>Now let's add our service to e-commerce.module.ts</p>
    <p><code>e-commerce.module.ts</code>:</p>
    <p><pre><code>
//...
providers: [
    InterceptService,
      	{
          provide: HTTP_INTERCEPTORS,
          useClass: InterceptService,
          multi: true
      	},
    //..
  ]
//...    
    </code></pre></p>
  </div>
  <br />
	<h3 class="section-head">Actions</h3>
	<div class="section-content" id="delete-item">
		<h4 class="section-title">'Delete item' action</h4>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-delete.png" alt="eCommerce delete item" /></p>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-delete-confirm.png" alt="eCommerce delete item confirm" /></p>
		<p><code>customers/customer-list/customer-list.component.ts</code>:</p>
		<p>
			<pre><code>
&#60;m-portlet [options]="{headLarge: true}" [loading$]="dataSource.loading$"&#62;
  &#60;ng-container mPortletBody&#62;
    &#60;div class="mat-table__wrapper"&#62;
      &#60;mat-table class="lmat-elevation-z8" [dataSource]="dataSource" matSort matSortActive="id" matSortDirection="asc" matSortDisableClear&#62;
        &#60;!-- other columns --&#62;
        &#60;ng-container matColumnDef="actions"&#62;
          &#60;mat-header-cell *matHeaderCellDef&#62;Actions&#60;/mat-header-cell&#62;
          &#60;mat-cell *matCellDef="let customer"&#62;
            &#60;button mat-icon-button color="warn" 
              matTooltip="Delete customer" 
              type="button" 
              (click)="deleteCustomer(customer)"&#62;
              &#60;mat-icon>delete&#60;/mat-icon&#62;
            &#60;/button&#62;
            &#60;!-- other actions --&#62;
          &#60;/mat-cell&#62;
        &#60;/ng-container&#62;
      &#60;/mat-table&#62;
    &#60;/div&#62;

   &#60;/ng-container&#62;
&#60;/m-portlet&#62;</code></pre>
		</p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
		<pre><code>
// Importing Services
import { CustomersService } from '../../_core/services/customers.service';
import { LayoutUtilsService, MessageType } from '../../_core/utils/layout-utils.service';
import { TranslateService } from '@ngx-translate/core';
// ...
export class CustomersListComponent implements OnInit {
  // ...
  // Variables declaration
  // ...
  constructor(private customersService: CustomersService, 
    private layoutUtilsService: LayoutUtilsService,
    private translate: TranslateService) {}
  // ...
  /** ACTIONS */
  /** Delete */
  deleteCustomer(_item: CustomerModel) {
    // Translated messages
    const _title: string = this.translate.instant('ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.TITLE');
    const _description: string = this.translate.instant('ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.DESCRIPTION');
    const _waitDesciption: string = this.translate.instant('ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.WAIT_DESCRIPTION');
    const _deleteMessage = this.translate.instant('ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_SIMPLE.MESSAGE');

    // Confirmation Dialog
    const dialogRef = this.layoutUtilsService.deleteElement(_title, _description, _waitDesciption);
    dialogRef.afterClosed().subscribe(res => {
      if (!res) {
        return; // User canceled action
      }

      // Server call
      this.customersService.deleteCustomer(_item.id).subscribe(() => {
        this.layoutUtilsService.showActionNotification(_deleteMessage, MessageType.Delete);
        this.loadCustomersList();
      });
    });
  }
}
</code></pre>
		</p>
		<p><code>deleteCustomer</code> method calls <code>customersService.deleteCustomer</code> method within itself.</p>
		<p><code>_core/services/customers.service.ts</code>:</p>
		<p>
		<pre><code>import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable, forkJoin, of } from 'rxjs';
import { mergeMap } from 'rxjs/operators';
import { HttpUtilsService } from '../utils/http-utils.service';
import { CustomerModel } from '../models/customer.model';
import { QueryParamsModel } from '../models/query-models/query-params.model';
import { QueryResultsModel } from '../models/query-models/query-results.model';

const API_CUSTOMERS_URL = 'api/customers';

@Injectable()
export class CustomersService {
  constructor(private http: HttpClient, private httpUtils: HttpUtilsService) { }

  // DELETE => delete the customer from the server
  deleteCustomer(customerId: number): Observable<CustomerModel> {
    const url = `${API_CUSTOMERS_URL}/${customerId}`;
    return this.http.delete<CustomerModel>(url);
  }
	
  // DELETE => delete selected customers from the server
  deleteCustomers(ids: number[] = []) {
    const url = this.API_CUSTOMERS_URL + '/delete';
    return this.http.get<QueryResultsModel>(url, { params: ids });
  }
}</code></pre>
		</p>
	</div>
	<div class="space"></div>


	<div class="section-content" id="delete-items">
		<h4 class="section-title">'Delete selected items' action</h4>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-delete-selected.png" alt="eCommerce delete selected" /></p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
			<pre><code>
&#60;m-portlet [options]="{headLarge: true}" [loading$]="dataSource.loading$"&#62;
  &#60;ng-container mPortletBody&#62;
	
  &#60;!-- start::GROUP ACTIONS --&#62;
  &#60;!-- Group actions list: 'Delete selected' | 'Fetch selected' | 'Update status for selected' --&#62;
  &#60;!-- Group actions are shared for all LISTS | See '../../_shared' folder --&#62;
    &#60;div class="row align-items-center collapse m-form__group-actions m--margin-top-20 m--margin-bottom-20"
      [ngClass]="{'show' : selection.selected.length > 0}"&#62;
      &#60;!-- We show 'Group Actions' div if smth are selected --&#62;
      &#60;div class="col-xl-12"&#62;
        &#60;div class="m-form__group m-form__group--inline"&#62;
          &#60;div class="m-form__label m-form__label-no-wrap"&#62;
            &#60;label class="m--font-bold m--font-danger-"&#62;
							&#60;span translate="ECOMMERCE.COMMON.SELECTED_RECORDS_COUNT">&#60;/span&#62; {{ selection.selected.length }}
            &#60;/label&#62;
            &#60;!-- selectedCountsTitle => function from codeBehind (customer-list.component.ts file) --&#62;
            &#60;!-- selectedCountsTitle => just returns title of selected items count --&#62;
            &#60;!-- for example: Selected records count: 4 --&#62;
          &#60;/div&#62;
          &#60;div class="m-form__control m-form__group--inline"&#62;
            &#60;button (click)="deleteCustomers()" mat-raised-button color="accent" matTooltip="Delete selected customers"&#62;
              &#60;mat-icon&#62;delete&#60;/mat-icon&#62; Delete All
            &#60;/button>&nbsp;&#60;!-- Call 'delete-entity-dialog' from _shared folder --&#62;
          &#60;/div&#62;
        &#60;/div&#62;
      &#60;/div&#62;
		&#60;/div&#62;
    &#60;!-- end::GROUP ACTIONS --&#62;

   &#60;/ng-container&#62;
&#60;/m-portlet&#62;</code></pre>
		</p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
		<pre><code>
// Importing Services
import { CustomersService } from '../../_core/services/customers.service';
import { LayoutUtilsService, MessageType } from '../../_core/utils/layout-utils.service';
import { TranslateService } from '@ngx-translate/core';
// ...
export class CustomersListComponent implements OnInit {
  // ...
  // Variables declaration
  // ...
  constructor(private customersService: CustomersService, 
    private layoutUtilsService: LayoutUtilsService,
    private translate: TranslateService) {}
  // ...
  /** ACTIONS */
  deleteCustomers() {
    const _title: string = this.translate.instant('ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.TITLE');
    const _description: string = this.translate.instant('ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.DESCRIPTION');
    const _waitDesciption: string = this.translate.instant('ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.WAIT_DESCRIPTION');
    const _deleteMessage = this.translate.instant('ECOMMERCE.CUSTOMERS.DELETE_CUSTOMER_MULTY.MESSAGE');

    const dialogRef = this.layoutUtilsService.deleteElement(_title, _description, _waitDesciption);
    dialogRef.afterClosed().subscribe(res => {
    if (!res) {
      return;
    }

    const idsForDeletion: number[] = [];
      for (let i = 0; i < this.selection.selected.length; i++) {
        idsForDeletion.push(this.selection.selected[i].id);
			}
      // Server call
      this.customersService.deleteCustomers(idsForDeletion)
      .subscribe(() => {
        this.layoutUtilsService.showActionNotification(_deleteMessage, MessageType.Delete);
        this.loadCustomersList();
        this.selection.clear();
      });
    });
  }
}
</code></pre>
		</p>

	</div>
	<div class="space"></div>



	<div class="section-content" id="edit-item">
		<h4 class="section-title">'Create & Edit' item in modal</>:</h4>
		<p>'Edit & Create' items in 'Customers list' component:</p>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-edit.png" alt="eCommerce edit" /></p>
		<p><code>customers/customer-list/customer-list.component.html</code>:</p>
		<p>
			<pre><code>
&#60;m-portlet [options]="{headLarge: true}" [loading$]="dataSource.loading$"&#62;

  &#60;ng-container mPortletHeadTools&#62;
    &#60;button (click)="addCustomer()" mat-raised-button matTooltip="Create new customer" color="primary" type="button"&#62;
    &#60;span translate="ECOMMERCE.CUSTOMERS.NEW_CUSTOMER">New Customer&#60;/span&#62;
    &#60;/button&#62;
    &#60;!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' --&#62;
    &#60;!-- mat-raised-button | Rectangular contained button w/ elevation  --&#62;
  &#60;/ng-container&#62;
  &#60;!-- end::Header --&#62;

  &#60;ng-container mPortletBody&#62;
    &#60;div class="mat-table__wrapper"&#62;
      &#60;mat-table class="lmat-elevation-z8" [dataSource]="dataSource" matSort matSortActive="id" matSortDirection="asc" matSortDisableClear&#62;
        &#60;!-- other columns --&#62;
        &#60;ng-container matColumnDef="actions"&#62;
          &#60;mat-header-cell *matHeaderCellDef&#62;Actions&#60;/mat-header-cell&#62;
          &#60;mat-cell *matCellDef="let customer"&#62;
            &#60;button mat-icon-button color="primary" 
              matTooltip="Edit customer" 
              (click)="editCustomer(customer)"&#62;
              &#60;mat-icon&#62;create&#60;/mat-icon&#62;
            &#60;/button&#62;
            &#60;!-- other actions --&#62;
          &#60;/mat-cell&#62;
        &#60;/ng-container&#62;
      &#60;/mat-table&#62;
    &#60;/div&#62;

   &#60;/ng-container&#62;
&#60;/m-portlet&#62;</code></pre>
		</p>

		<p><code>customers/customer-list/customer-list.component.ts</code>:</p>
		<p>
		<pre><code>
// Services
import { CustomersService } from '../../_core/services/customers.service';
import { LayoutUtilsService, MessageType } from '../../_core/utils/layout-utils.service';
// ...
export class CustomersListComponent implements OnInit {
  // ...
  // Variables declaration
	
  constructor(
    private customersService: CustomersService,
    public dialog: MatDialog,
    public snackBar: MatSnackBar,
    private layoutUtilsService: LayoutUtilsService,
    private translate: TranslateService
  ) {}

  addCustomer() {
    const newCustomer = new CustomerModel();
    newCustomer.clear(); // Set all defaults fields
    this.editCustomer(newCustomer);
  }

  /** Edit */
  editCustomer(customer: CustomerModel) {
    let saveMessageTranslateParam = 'ECOMMERCE.CUSTOMERS.EDIT.';
    saveMessageTranslateParam += customer.id > 0 ? 'UPDATE_MESSAGE' : 'ADD_MESSAGE';
    const _saveMessage = this.translate.instant(saveMessageTranslateParam);
    const _messageType = customer.id > 0 ? MessageType.Update : MessageType.Create;
    // Call 'Edit & Create' modal
    const dialogRef = this.dialog.open(CustomerEditDialogComponent, { data: { customer } });
    dialogRef.afterClosed().subscribe(res => {
      if (!res) {
        return; // The action was canceled by user
      }

      this.layoutUtilsService.showActionNotification(_saveMessage, _messageType, 10000, true, false);
      this.loadCustomersList();
    });
  }
}</code></pre>
		</p>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-edit-modal.png" alt="eCommerce edit modal" /></p>
		<p>	<img style="max-width: 100%" src="assets/img/docs/eCommerce-edit.png" alt="eCommerce edit" /></p>
		<p><code>customers/customer-edit/customer-edit.dialog.component.html</code>:</p>
		<p><pre><code>
&#60;div class="m-portlet" [ngClass]="{ 'm-portlet--body-progress' : viewLoading, 'm-portlet--body-progress-overlay' : loadingAfterSubmit }"&#62;
  &#60;div class="m-portlet__head"&#62;
    &#60;div class="m-portlet__head-caption"&#62;
      &#60;div class="m-portlet__head-title"&#62;
        &#60;span class="m-portlet__head-icon m--hide"&#62;
          &#60;i class="la la-gear"&#62;&#60;/i&#62;
        &#60;/span&#62;
        &#60;h3 class="m-portlet__head-text"&#62;{{getTitle()}}&#60;/h3&#62;
      &#60;/div&#62;
    &#60;/div&#62;
  &#60;/div&#62;
  &#60;form class="m-form" [formGroup]="customerForm"&#62;
    &#60;div class="m-portlet__body"&#62;

      &#60;div class="m-portlet__body-progress"&#62;
        &#60;mat-spinner [diameter]="20"&#62;&#60;/mat-spinner&#62;
      &#60;/div&#62;

      &#60;m-alert *ngIf="hasFormErrors" type="warn" [duration]="30000" [showCloseButton]="true" (close)="onAlertClose($event)"&#62;
        Oh snap! Change a few things up and try submitting again.
      &#60;/m-alert&#62;

      &#60;div class="form-group m-form__group row"&#62;
        &#60;div class="col-lg-4 m--margin-bottom-20-mobile"&#62;
           &#60;mat-form-field class="mat-form-field-fluid"&#62;
            &#60;input matInput placeholder="Enter First Name" formControlName="firstName" /&#62;
            &#60;mat-error&#62;First Name is
              &#60;strong&#62;required&#60;/strong&#62;
            &#60;/mat-error&#62;
            &#60;mat-hint align="start"&#62;Please enter
              &#60;strong&#62;First Name&#60;/strong&#62;
            &#60;/mat-hint&#62;
          &#60;/mat-form-field&#62;
        &#60;/div&#62;
        &#60;div class="col-lg-4 m--margin-bottom-20-mobile"&#62;
          &#60;mat-form-field class="mat-form-field-fluid"&#62;
            &#60;input matInput placeholder="Enter Last Name" formControlName="lastName" /&#62;
            &#60;mat-error&#62;Last Name is
              &#60;strong&#62;required&#60;/strong&#62;
            &#60;/mat-error&#62;
            &#60;mat-hint align="start"&#62;Please enter
              &#60;strong&#62;Last Name&#60;/strong&#62;
            &#60;/mat-hint&#62;
          &#60;/mat-form-field&#62;
        &#60;/div&#62;
        &#60;div class="col-lg-4 m--margin-bottom-20-mobile"&#62;
          &#60;mat-form-field class="mat-form-field-fluid"&#62;
            &#60;input matInput placeholder="Enter Login" formControlName="userName" /&#62;
            &#60;mat-error&#62;Login is
              &#60;strong&#62;required&#60;/strong&#62;
            &#60;/mat-error&#62;
            &#60;mat-hint align="start"&#62;Please enter
              &#60;strong&#62;Login&#60;/strong&#62;
            &#60;/mat-hint&#62;
          &#60;/mat-form-field&#62;
        &#60;/div&#62;
      &#60;/div&#62;

      &#60;div class="m-separator m-separator--dashed"&#62;&#60;/div&#62;

      &#60;div class="form-group m-form__group row"&#62;
        &#60;div class="col-lg-4 m--margin-bottom-20-mobile"&#62;
          &#60;mat-form-field class="mat-form-field-fluid"&#62;
            &#60;input type="email" matInput placeholder="Enter Email" formControlName="email" /&#62;
            &#60;mat-error&#62;Email is
              &#60;strong&#62;required&#60;/strong&#62;
            &#60;/mat-error&#62;
            &#60;mat-hint align="start"&#62;Please enter
              &#60;strong&#62;Email&#60;/strong&#62;
            &#60;/mat-hint&#62;
          &#60;/mat-form-field&#62;
        &#60;/div&#62;
        &#60;div class="col-lg-4 m--margin-bottom-20-mobile"&#62;
          &#60;mat-form-field class="mat-form-field-fluid"&#62;
            &#60;input matInput [matDatepicker]="picker" placeholder="Choose a Date of Birth" formControlName="dob" /&#62;
            &#60;mat-datepicker-toggle matSuffix [for]="picker"&#62;&#60;/mat-datepicker-toggle&#62;
            &#60;mat-datepicker #picker&#62;&#60;/mat-datepicker&#62;
            &#60;mat-hint align="start"&#62;Please enter
              &#60;strong&#62;Date of Birth&#60;/strong&#62; in 'mm/dd/yyyy' format&#60;/mat-hint&#62;
            &#60;/mat-form-field&#62;
          &#60;/div&#62;
          &#60;div class="col-lg-4 m--margin-bottom-20-mobile"&#62;
            &#60;mat-form-field class="mat-form-field-fluid"&#62;
              &#60;input type="email" matInput placeholder="Enter IP Address" formControlName="ipAddress" /&#62;
              &#60;mat-error&#62;IP Address
                &#60;strong&#62;required&#60;/strong&#62;
              &#60;/mat-error&#62;
              &#60;mat-hint align="start"&#62;We'll never share customer
                &#60;strong&#62;IP Address&#60;/strong&#62; with anyone else&#60;/mat-hint&#62;
            &#60;/mat-form-field&#62;
          &#60;/div&#62;
        &#60;/div&#62;

        &#60;div class="m-separator m-separator--dashed"&#62;&#60;/div&#62;

        &#60;div class="form-group m-form__group row"&#62;
          &#60;div class="col-lg-4 m--margin-bottom-20-mobile"&#62;
            &#60;mat-form-field class="mat-form-field-fluid"&#62;
              &#60;mat-select placeholder="Gender" formControlName="gender"&#62;
                &#60;mat-option value="Female"&#62;Female&#60;/mat-option&#62;
                &#60;mat-option value="Male"&#62;Male&#60;/mat-option&#62;
              &#60;/mat-select&#62;
              &#60;mat-hint align="start"&#62;
                &#60;strong&#62;Gender&#60;/strong&#62;
              &#60;/mat-hint&#62;
            &#60;/mat-form-field&#62;
          &#60;/div&#62;
        &#60;div class="col-lg-4 m--margin-bottom-20-mobile"&#62;
          &#60;mat-form-field class="mat-form-field-fluid"&#62;
            &#60;mat-select placeholder="Type" formControlName="type"&#62;
              &#60;mat-option value="0"&#62;Business&#60;/mat-option&#62;
              &#60;mat-option value="1"&#62;Individual&#60;/mat-option&#62;
            &#60;/mat-select&#62;
            &#60;mat-hint align="start"&#62;
              &#60;strong&#62;Account Type&#60;/strong&#62;
            &#60;/mat-hint&#62;
          &#60;/mat-form-field&#62;
        &#60;/div&#62;
      &#60;/div&#62;
    &#60;/div&#62;
    &#60;div class="m-portlet__foot m-portlet__no-border m-portlet__foot--fit"&#62;
      &#60;div class="m-form__actions m-form__actions--solid"&#62;
        &#60;div class="row text-right"&#62;
          &#60;div class="col-lg-12"&#62;
            &#60;button type="button" mat-raised-button [mat-dialog-close]="data.animal" cdkFocusInitial matTooltip="Cancel changes"&#62;
              Cancel
            &#60;/button&#62;&nbsp;
            &#60;button type="button" mat-raised-button color="primary" (click)="onSubmit()" [disabled]="viewLoading" matTooltip="Save changes"&#62;
              Save
            &#60;/button&#62;
          &#60;/div&#62;
        &#60;/div&#62;
      &#60;/div&#62;
    &#60;/div&#62;
  &#60;/form&#62;
&#60;/div&#62;
		</code></pre></p>
		<p><code>customers/customer-edit/customer-edit.dialog.component.ts</code>:</p>
		<p>
			<pre><code>
import { Component, OnInit, Inject, ChangeDetectionStrategy } from '@angular/core';
import { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { TypesUtilsService } from '../../_core/utils/types-utils.service';
import { CustomersService } from '../../_core/services/customers.service';
import { CustomerModel } from '../../_core/models/customer.model';

@Component({
  selector: 'm-customers-edit-dialog',
  templateUrl: './customer-edit.dialog.component.html',
  // changeDetection: ChangeDetectionStrategy.OnPush
})
export class CustomerEditDialogComponent implements OnInit {
  customer: CustomerModel;
	customerForm: FormGroup;
  hasFormErrors: boolean = false;
	viewLoading: boolean = false;
  loadingAfterSubmit: boolean = false;

  constructor(public dialogRef: MatDialogRef<CustomerEditDialogComponent>,
    @Inject(MAT_DIALOG_DATA) public data: any,
    private fb: FormBuilder,
    private customerService: CustomersService,
    private typesUtilsService: TypesUtilsService) { }

  /** LOAD DATA */
  ngOnInit() {
    this.customer = this.data.customer;
    this.createForm();

    /* Server loading imitation. Remove this on real code */
    this.viewLoading = true;
		  setTimeout(() => {
      this.viewLoading = false;
    }, 1000);
  }

  createForm() {
    this.customer.dob = this.typesUtilsService.getDateFromString(this.customer.dateOfBbirth);
    this.customerForm = this.fb.group({
      firstName: [this.customer.firstName, Validators.required],
      lastName: [this.customer.lastName, Validators.required],
      email: [
        this.customer.email,
        [Validators.required, Validators.email]
      ],
      dob: [this.customer.dob, Validators.nullValidator],
      userName: [this.customer.userName, Validators.required],
      gender: [this.customer.gender, Validators.required],
      ipAddress: [this.customer.ipAddress, Validators.required],
      type: [this.customer.type.toString(), Validators.required]
    });
  }

  /** UI */
  getTitle(): string {
    if (this.customer.id > 0) {
      return `Edit customer '${this.customer.firstName} ${this.customer.lastName}'`;
    }

    return 'New customer';
  }

  isControlInvalid(controlName: string): boolean {
    const control = this.customerForm.controls[controlName];
    const result = control.invalid && control.touched;
    return result;
  }

  /** ACTIONS */
  prepareCustomer(): CustomerModel {
    const controls = this.customerForm.controls;
    const _customer = new CustomerModel();
   _customer.id = this.customer.id;
	 _customer.dateOfBbirth = this.typesUtilsService.dateCustomFormat(controls['dob'].value);
   _customer.firstName = controls['firstName'].value;
   _customer.lastName = controls['lastName'].value;
   _customer.email = controls['email'].value;
   _customer.userName = controls['userName'].value;
   _customer.gender = controls['gender'].value;
   _customer.ipAddress = controls['ipAddress'].value;
   _customer.type = +controls['type'].value;
   _customer.status = this.customer.status;
   return _customer;
  }

  onSubmit() {
    this.hasFormErrors = false;
    this.loadingAfterSubmit = false;
    const controls = this.customerForm.controls;
    /** check form */
    if (this.customerForm.invalid) {
      Object.keys(controls).forEach(controlName =>
        controls[controlName].markAsTouched()
      );

      this.hasFormErrors = true;
      return;
		}

    const editedCustomer = this.prepareCustomer();
    if (editedCustomer.id > 0) {
      this.updateCustomer(editedCustomer);
    } else {
      this.createCustomer(editedCustomer);
    }
  }

  updateCustomer(_customer: CustomerModel) {
    this.loadingAfterSubmit = true;
		this.viewLoading = true;
    // Server call
    this.customerService.updateCustomer(_customer).subscribe(res => {
      this.viewLoading = false;
      this.dialogRef.close({
       _customer,
       isEdit: true
      });
    });
  }

  createCustomer(_customer: CustomerModel) {
    this.loadingAfterSubmit = true;
		this.viewLoading = true;
    // Server call
    this.customerService.createCustomer(_customer).subscribe(res => {
      this.viewLoading = false;
      this.dialogRef.close({
        _customer,
        isEdit: false
      });
    });
  }

  onAlertClose($event) {
    this.hasFormErrors = false;
  }
}</code></pre>
		</p>

		<p><code>_core/services/customers.service.ts</code>:</p>
		<p><pre><code>import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable, forkJoin, of } from 'rxjs';
import { mergeMap } from 'rxjs/operators';
import { HttpUtilsService } from '../utils/http-utils.service';
import { CustomerModel } from '../models/customer.model';
import { QueryParamsModel } from '../models/query-models/query-params.model';
import { QueryResultsModel } from '../models/query-models/query-results.model';

const API_CUSTOMERS_URL = 'api/customers';

@Injectable()
export class CustomersService {
  constructor(private http: HttpClient, private httpUtils: HttpUtilsService) { }

  // CREATE =>  POST: add a new customer to the server
  createCustomer(customer: CustomerModel): Observable<CustomerModel> {
    return this.http.post<CustomerModel>(API_CUSTOMERS_URL, customer, this.httpUtils.getHTTPHeader());
  }

  // UPDATE => PUT: update the customer on the server
  updateCustomer(customer: CustomerModel): Observable<any> {
    return this.http.put(API_CUSTOMERS_URL, customer, this.httpUtils.getHTTPHeader());
  }
}</code></pre></p>
	</div>
	<div class="space"></div>
	<hr />
</div>				</div>
			<!-- contents END -->

		</div>
	</div>
</section><!-- section END -->

	<section class="section section--bg"><!-- section -->
	<div class="content">

		<blockquote class="blockquote">
			I run a team of 20 product managers, developers, QA and UX resources. Previously we designed everything ourselves.
			For our newest platform we tried out Metronic. I cannot overestimate the impact Metronic has had. It's accelerated
			development 3x and reduced QA issues by 50%. If you add up the reduced need for design time/resources, the increase
			in dev speed and the reduction in QA, it's probably saved us $100,000 on this project alone, and I plan to use
			it for all platforms moving forward.<br/>
			The flexibility of the design has also allowed us to put out a better looking & working platform and reduced my
			headaches by 90%. Thank you KeenThemes!
			<span class="blockquote__author">Jonathan Bartlett, <span>Metronic Customer</span></span>
		</blockquote>

	</div>
</section><!-- section END -->

<section class="section section--white"><!-- section -->
	<div class="content content--padding">
		<div class="advantages"><!-- advantages -->
			<div class="advantages__block">
				<i class="glyph-icon flaticon-open-box"></i>
				<div class="advantages__block__content">
					<h3>Powerful Framework</h3>
					<p>
						Everything within Metronic is customizable globally to provide limitless unique styled projects
					</p>
				</div>
			</div>
			<div class="advantages__block">
				<i class="glyph-icon flaticon-web"></i>
				<div class="advantages__block__content">
					<h3>Multi Demo</h3>
					<p>
						Choose a perfect design for your next project among hundreds of demos
					</p>
				</div>
			</div>
			<div class="advantages__block">
				<i class="glyph-icon flaticon-layers"></i>
				<div class="advantages__block__content">
					<h3>Limitless Components</h3>
					<p>
						A huge collection of components to power your application with the latest UI/UX trands
					</p>
				</div>
			</div>
			<div class="advantages__block">
				<i class="glyph-icon flaticon-menu-button"></i>
				<div class="advantages__block__content">
					<h3>Angular 6 Support</h3>
					<p>
						Enterprise ready Angular 6 integration with built-in authentication module and many more
					</p>
				</div>
			</div>
			<div class="advantages__block">
				<i class="glyph-icon flaticon-car"></i>
				<div class="advantages__block__content">
					<h3>Bootstrap 4</h3>
					<p>
						Metronic deeply customizes Bootstrap with native look and feel
					</p>
				</div>
			</div>
			<div class="advantages__block">
				<i class="glyph-icon flaticon-interface-6"></i>
				<div class="advantages__block__content">
					<h3>Exclusive Datatable Plugin</h3>
					<p>
						Our super sleek and intuitive Datatable comes packed with all advanced CRUD features
					</p>
				</div>
			</div>
			<div class="advantages__block">
				<i class="glyph-icon flaticon-users"></i>
				<div class="advantages__block__content">
					<h3>60,000+ Strong</h3>
					<p>
						Metronic is the only theme trusted by over 60,000 developers world wide
					</p>
				</div>
			</div>
			<div class="advantages__block">
				<i class="glyph-icon flaticon-alert-1"></i>
				<div class="advantages__block__content">
					<h3>Continuous Updates</h3>
					<p>
						Lifetime updates with new demos and features is guaranteed
					</p>
				</div>
			</div>
			<div class="advantages__block">
				<i class="glyph-icon flaticon-truck"></i>
				<div class="advantages__block__content">
					<h3>Quality Code</h3>
					<p>
						Metronic is writer with a code structure that all developers will be able to pick up easily and fall in love
					</p>
				</div>
			</div>
		</div><!-- grid__advantages END -->
	</div>
</section><!-- section END -->

<section class="section section--bg"><!-- section -->
	<div class="content">
		<h2 class="title text-center">The Ultimate Bootstrap Admin Theme Trusted By Over 60,000 Developers World Wide</h2>
		<div class="text-center">
			<a href="https://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes" target="_blank" class="button">PURCHASE NOW</a>
		</div>
	</div>
</section><!-- section END -->

	<footer>
	<img src="assets/img/logo_keenthemes_2.png" alt="">
	<form action="//keenthemes.us3.list-manage.com/subscribe/post?u=b10f23244c11e2946463ea844&amp;id=3aba0b6220" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank"
		  novalidate>
		<div class="subscribe">
			<input type="email" name="EMAIL" placeholder="Enter your email to subscribe newsletter">
			<button type="submit" name="subscribe">Submit</button>
		</div>
	</form>

	<div class="socials">
		<a href="http://twitter.com/keenthemes" target="_blank"><i class="socicon-twitter"></i></a>
		<a href="http://facebook.com/keenthemes" target="_blank"><i class="socicon-facebook"></i></a>
		<a href="https://dribbble.com/keenthemes" target="_blank"><i class="socicon-dribbble"></i></a>
		<a href="http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes" target="_blank"><i class="socicon-envato" alt=""></i></a>
	</div>
</footer>

</div><!-- wrapper END -->

</body>
</html>
